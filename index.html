<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ù–∞–≤–∏–≥–∞—Ü–∏—è 99,9% ‚Äî –º–∏–Ω–∏-–∞–ø–ø</title>

  <!-- Telegram Mini App -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-image: none;
      --bg-base: #eeeeef;
      --brand:  #ffb224;
      --brand-strong:#f7a21b;
      --text:  #111111;
      --muted: #63666a;
      --card:  rgba(255,255,255,.72);
      --line:  rgba(17,17,17,.10);
      --chip:  #ffffff;
      --chip-border: rgba(17,17,17,.16);
      --chip-ring: rgba(247,162,27,.45);
      --cta:   #2f6fce;
      --cta-text:#ffffff;
      --nav-bg: rgba(255,255,255,.92);
      --nav-border: rgba(17,17,17,.10);
      --nav-active: #111111;
      --nav-muted: #6c6f75;

      /* –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–≥–æ –ª–µ–Ω–¥–∏–Ω–≥–∞ */
      --rs-card:#fffdf9;
      --rs-card-border:#e9dccb;
      --rs-chip:#f5efe7;
    }

    html, body {height: 100%;}
    body{
      margin:0;
      color:var(--text);
      font: 15px/1.5 "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      background-image: var(--bg-image), radial-gradient(1200px 900px at 65% 35%,
          rgba(247,162,27, .95) 0%,
          rgba(247,162,27, .75) 30%,
          rgba(247,162,27, .35) 55%,
          rgba(247,162,27, .15) 68%,
          rgba(247,162,27, .08) 74%,
          rgba(247,162,27, 0) 78%), none;
      background-size: cover, auto;
      background-repeat:no-repeat;
      background-attachment: fixed;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .app{ max-width: 980px; margin: 0 auto; padding: 16px 16px 88px; }

    /* Header */
    .header{
      display:flex; gap:16px; align-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.70));
      border:1px solid var(--line);
      border-radius:24px; padding:18px;
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 30px rgba(0,0,0,.04);
    }
    .avatar{ width:64px; height:64px; border-radius:50%;
      background: radial-gradient(60px 60px at 60% 40%, var(--brand), rgba(255,255,255,.6)), #f8d294;
      border: 1px solid rgba(0,0,0,.06);
      flex:0 0 64px;
    }
    .title{ font-family:"Montserrat"; font-weight:800; letter-spacing:.2px; font-size:28px; }
    .subtitle{ color:var(--muted); margin-top:4px; }

    /* Top chips */
    .tabs{ display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 10px; }
    .tab{
      background:var(--chip); border:1px solid var(--chip-border);
      border-radius:999px; padding:10px 14px; font-weight:600; cursor:pointer; user-select:none;
      transition: box-shadow .2s, border-color .2s, transform .05s;
    }
    .tab:active{ transform: translateY(1px); }
    .tab[aria-selected="true"]{ border-color: var(--brand-strong); box-shadow: 0 0 0 3px var(--chip-ring); }

    /* Search */
    .search{ width:100%; padding:12px 14px; border-radius:14px; border:1px solid var(--line);
      background:rgba(255,255,255,.85); outline:none; }

    /* Sections / cards */
    .section{ background: var(--card); border:1px solid var(--line); border-radius:22px; padding:16px; margin-top:14px; backdrop-filter: blur(4px); }
    .section h2{ font-family:"Montserrat"; font-size:26px; margin:6px 8px 12px; letter-spacing:.2px; }

    .grid{ display:grid; grid-template-columns:1fr; gap:12px; }
    @media (min-width: 740px){ .grid{ grid-template-columns: 1fr 1fr 1fr; } }

    .card{ background:linear-gradient(180deg, #ffffffcc, #ffffffb3); border:1px solid var(--line); border-radius:18px; padding:14px; display:flex; flex-direction:column; gap:10px; min-height:130px; }
    .pill{ display:inline-flex; align-items:center; justify-content:center; border:1px dashed var(--line); border-radius:999px; padding:8px 10px; color:var(--muted); font-size:13px; }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; height:44px; padding:0 16px; border-radius:12px; border:1px solid var(--line); background:var(--chip); cursor:pointer; font-weight:600; }
    .btn.brand{ background:var(--cta); color:var(--cta-text); border-color:transparent; box-shadow: 0 4px 18px rgba(47,111,206,.25); }

    /* Bottom nav */
    .nav{ position:fixed; left:0; right:0; bottom:0; background: var(--nav-bg); border-top:1px solid var(--nav-border); backdrop-filter: blur(10px); z-index: 50; }
    .nav-wrap{ max-width:980px; margin:0 auto; padding:8px 12px 10px; display:flex; justify-content:space-between; gap:8px; }
    .nav-btn{ flex:1 1 0; display:flex; flex-direction:column; align-items:center; gap:6px; padding:8px 6px; border-radius:12px; border:1px solid transparent; background:transparent; cursor:pointer; user-select:none; font-weight:600; color:var(--nav-muted); transition:.2s; }
    .nav-btn:active{ transform: translateY(1px); }
    .nav-btn.active{ color:var(--nav-active); background:#fff; border-color:var(--nav-border); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
    .nav-ico{ font-size:18px; line-height:1; }
    .nav-txt{ font-size:12px; }

    .footer-space{ height:22px; }
    .footer{ display:none; }

    /* ===== RS360 ‚Äî —ç–∫—Ä–∞–Ω –ø—Ä–æ–¥—É–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∞–ø–ø–∞ ===== */
    .rs-wrap{ background:linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.76)); border:1px solid var(--line);
      border-radius:26px; padding:18px; margin-top:14px; }
    .rs-head{ display:flex; gap:14px; align-items:center; }
    .rs-badge{ font-size:13px; color:var(--muted); background:var(--chip); border:1px solid var(--line); border-radius:999px; padding:6px 10px; }
    .rs-title{ font-family:"Montserrat"; font-weight:800; letter-spacing:.2px; font-size:36px; line-height:1.05; margin:6px 0 4px; }
    .rs-sub{ color:#585b60; font-size:16px; }
    .rs-cta{ margin-top:16px; }
    .rs-hr{ height:6px; border-radius:6px; background:linear-gradient(90deg, #e2a12a, #f8c16a 40%, transparent 40%); margin:18px 0 2px; }

    .rs-section{ background:var(--rs-card); border:1px solid var(--rs-card-border); border-radius:22px; padding:16px; margin:16px 0; }
    .rs-h2{ font-family:"Montserrat"; font-size:28px; margin:4px 8px 12px; letter-spacing:.2px; }
    .rs-grid{ display:grid; grid-template-columns:1fr; gap:12px; }
    @media (min-width: 740px){ .rs-grid{ grid-template-columns:1fr 1fr; } }
    .rs-card{ background:#fff; border:1px solid #e7e2d8; border-radius:18px; padding:14px 16px; }
    .rs-card h3{ margin:0 0 6px; font-size:18px; }
    .rs-ul{ margin:10px 0 0 0; padding-left:18px; }
    .rs-ul li{ margin:6px 0; }
    .rs-chip{ display:inline-flex; align-items:center; gap:8px; background:var(--rs-chip); border:1px dashed #d8c9b1; color:#6a604f; border-radius:999px; padding:8px 12px; font-size:13px; }

    .back{ display:inline-flex; align-items:center; gap:10px; height:40px; padding:0 14px; border-radius:12px; border:1px solid var(--line); background:#fff; font-weight:600; cursor:pointer; }
  </style>
</head>
<body>
  <div class="app" id="app">
    <!-- Header -->
    <div class="header">
      <div class="avatar" aria-hidden="true"></div>
      <div>
        <div class="title">–ì–∞–≤—Ä–∏—á–∫–æ–≤–∞ | 99,9%</div>
        <div class="subtitle">–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä—É–±—Ä–∏–∫–∞–º ¬∑ –ü–æ–¥–∫–∞—Å—Ç ¬∑ –ö–µ–π—Å—ã ¬∑ –ü—Ä–æ–¥—É–∫—Ç—ã ¬∑ –°–≤—è–∑—å</div>
      </div>
    </div>

    <!-- Top chips -->
    <div class="tabs" id="tabs"></div>

    <!-- Search (only on "–†—É–±—Ä–∏–∫–∏") -->
    <input id="search" class="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º‚Ä¶"/>

    <!-- Main content -->
    <div id="content"></div>

    <div class="footer-space"></div>
  </div>

  <!-- Bottom navigation -->
  <nav class="nav">
    <div class="nav-wrap">
      <button class="nav-btn" data-tab="rubrics"><span class="nav-ico">üè∑Ô∏è</span><span class="nav-txt">–†—É–±—Ä–∏–∫–∏</span></button>
      <button class="nav-btn" data-tab="podcast"><span class="nav-ico">üéôÔ∏è</span><span class="nav-txt">–ü–æ–¥–∫–∞—Å—Ç</span></button>
      <button class="nav-btn" data-tab="cases"><span class="nav-ico">üìÇ</span><span class="nav-txt">–ö–µ–π—Å—ã</span></button>
      <button class="nav-btn" data-tab="products"><span class="nav-ico">üß©</span><span class="nav-txt">–ü—Ä–æ–¥—É–∫—Ç—ã</span></button>
      <button class="nav-btn" data-tab="contact"><span class="nav-ico">‚úâÔ∏è</span><span class="nav-txt">–°–≤—è–∑—å</span></button>
    </div>
  </nav>

  <script>
    // Telegram init
    const tg = window.Telegram?.WebApp;
    if (tg) { tg.ready(); tg.expand(); }

    // ===== DATA =====
    const DATA = {
      contact: { username: 'Agavrichkova', url: 'https://t.me/Agavrichkova' },
      tabs: [
        { id:'rubrics',  title:'–†—É–±—Ä–∏–∫–∏',  groups:[
          { tag:'–ò–¥–µ–∏ 99,9%', items:[
            { title:'–ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –ò–ò –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Ä–∞–±–æ—Ç—É (–∏ –Ω–µ —Å–∫–∞—Ç–∏—Ç—å—Å—è –≤ –∏–≥—Ä—É—à–∫–∏)', link:'https://t.me/percent99_9/99' },
            { title:'–ö—Ä–∏–≤–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏–π: –≥–¥–µ –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç 99,9% –∫–æ–º–∞–Ω–¥', link:'https://t.me/percent99_9/98' },
          ]},
          { tag:'–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ä—ã–Ω–æ–∫ 0,1%', items:[
            { title:'–ü–æ—á–µ–º—É –±–æ–≥–∞—Ç—ã–µ –ø–ª–∞—Ç—è—Ç –º–µ–Ω—å—à–µ –Ω–∞–ª–æ–≥–æ–≤, —á–µ–º –º—ã', link:'https://t.me/percent99_9/95' },
            { title:'99,9% –±–µ—Ä—É—Ç –∏–ø–æ—Ç–µ–∫—É –Ω–∞ 20 –ª–µ—Ç. 0,1% –ø–æ–∫—É–ø–∞—é—Ç —á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å', link:'https://t.me/percent99_9/96' },
          ]},
          { tag:'–ì—Ä–∞–±–ª–∏', items:[] },
          { tag:'–¶–µ–Ω–∞ –≤–æ–ø—Ä–æ—Å–∞', items:[] },
        ]},
        { id:'podcast',  title:'–ü–æ–¥–∫–∞—Å—Ç',  groups:[ { tag:'–°–∫–æ—Ä–æ', items:[] } ] },
        { id:'cases',    title:'–ö–µ–π—Å—ã',    groups:[ { tag:'–°–∫–æ—Ä–æ', items:[] } ] },
        { id:'products', title:'–ü—Ä–æ–¥—É–∫—Ç—ã', groups:[
          { tag:'–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ', items:[
            { id:'rs360', title:'Revenue Sprint 360¬∞', type:'internal' },
          ]},
        ]},
        { id:'contact',  title:'–°–≤—è–∑—å',    groups:[] },
      ]
    };

    // ===== RS360 VIEW (–≤—à–∏—Ç –≤–Ω—É—Ç—Ä—å –∞–ø–ø–∞) =====
    const RS360_VIEW_HTML = `
      <div class="rs-wrap">
        <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
          <button class="back" onclick="setView(null)">‚Üê –ù–∞–∑–∞–¥</button>
          <span class="rs-badge">–ê–Ω–Ω–∞ –ì–∞–≤—Ä–∏—á–∫–æ–≤–∞ ¬∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Å–ø—Ä–∏–Ω—Ç</span>
        </div>

        <div class="rs-head">
          <div class="avatar" aria-hidden="true" style="width:56px;height:56px;"></div>
          <div>
            <div class="rs-title">Revenue Sprint 360¬∞</div>
            <div class="rs-sub">14 –¥–Ω–µ–π, —á—Ç–æ–±—ã –≤—ã–∂–∞—Ç—å +–≤—ã—Ä—É—á–∫—É –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞ ‚Äî –±–µ–∑ —Ä–æ—Å—Ç–∞ –±—é–¥–∂–µ—Ç–∞ –∏ —à—Ç–∞—Ç–∞.</div>
          </div>
        </div>

        <div class="rs-cta">
          <button class="btn brand" onclick="openLink('https://t.me/Agavrichkova')">–ù–∞–ø–∏—Å–∞—Ç—å –ê–Ω–Ω–µ –≤ Telegram</button>
          <span class="rs-chip" style="margin-left:12px;">–í–Ω—É—Ç—Ä–∏ –º–∏–Ω–∏-–∞–ø–ø–∞</span>
        </div>

        <div class="rs-hr"></div>

        <div class="rs-section">
          <div class="rs-h2">–ß—Ç–æ —ç—Ç–æ</div>
          <div class="rs-grid">
            <div class="rs-card">
              <h3>–ë—ã—Å—Ç—Ä–∞—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è</h3>
              <div>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ—Ñ—Ñ–µ—Ä–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–∞–∑—ã, –¥–æ–ø—Ä–æ–¥–∞–∂–∏ ‚Äî –ø–µ—Ä–≤—ã–µ –æ–ø–ª–∞—Ç—ã –æ–±—ã—á–Ω–æ –≤ 10‚Äì14 –¥–Ω–µ–π.</div>
            </div>
            <div class="rs-card">
              <h3>–£–ø—Ä–∞–≤–ª—è–µ–º–∞—è –≤–æ—Ä–æ–Ω–∫–∞</h3>
              <div>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è, —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏, —Å–∫—Ä–∏–ø—Ç—ã follow-up, –ø–ª–∞–Ω –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏ –≤–ø–µ—Ä—ë–¥.</div>
            </div>
          </div>
        </div>

        <div class="rs-section">
          <div class="rs-h2">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ø—Ä–∏–Ω—Ç–∞</div>
          <div class="rs-grid">
            <div class="rs-card">
              <h3>+20% –≤—ã—Ä—É—á–∫–∏</h3>
              <div>–∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –∑–∞ —Å—á—ë—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ü–∏–∫–ª–∞ —Å–¥–µ–ª–∫–∏ –∏ —Ä–æ—Å—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —à–∞–≥–∞—Ö.</div>
            </div>
            <div class="rs-card">
              <h3>–ü–µ—Ä–≤—ã–µ –¥–µ–Ω—å–≥–∏ –∑–∞ 2 –Ω–µ–¥–µ–ª–∏</h3>
              <div>–†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–∞–∑—ã –∏ –±—ã—Å—Ç—Ä—ã–µ –æ—Ñ—Ñ–µ—Ä—ã ‚Üí –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏/—Å—á–µ—Ç–∞.</div>
            </div>
          </div>
        </div>

        <div class="rs-section">
          <div class="rs-h2">–ü—Ä–æ–≥—Ä–∞–º–º–∞ (–∫–æ—Ä–æ—Ç–∫–æ)</div>
          <div class="rs-grid">
            <div class="rs-card">
              <h3>–ù–µ–¥–µ–ª—è 1</h3>
              <ul class="rs-ul">
                <li>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–π –≤–æ—Ä–æ–Ω–∫–∏ –∏ –æ—Ñ—Ñ–µ—Ä–æ–≤</li>
                <li>–ß–µ–∫-–ª–∏—Å—Ç —É–∑–∫–∏—Ö –º–µ—Å—Ç –∏ –±—ã—Å—Ç—Ä—ã—Ö —Ä—ã—á–∞–≥–æ–≤</li>
                <li>–†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –±–∞–∑—ã: —Å–µ–≥–º–µ–Ω—Ç—ã, —Å–∫—Ä–∏–ø—Ç—ã, –ø–ª–∞–Ω</li>
                <li>–ü–µ—Ä–≤—ã–π –±—ã—Å—Ç—Ä—ã–π –æ—Ñ—Ñ–µ—Ä –∏ –≥–∏–ø–æ—Ç–µ–∑—ã</li>
              </ul>
            </div>
            <div class="rs-card">
              <h3>–ù–µ–¥–µ–ª—è 2</h3>
              <ul class="rs-ul">
                <li>–°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è: —Ü–∏–∫–ª —Å–¥–µ–ª–∫–∏, follow-up</li>
                <li>–ú–∞—Ä—à—Ä—É—Ç—ã: from lead to paid, —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è</li>
                <li>–£–ø–∞–∫–æ–≤–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</li>
                <li>–ó–∞–ø—É—Å–∫ –¥–æ–ø—Ä–æ–¥–∞–∂/–∫—Ä–æ—Å—Å-—Å–µ–ª–ª–∞</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="rs-section">
          <div class="rs-h2">–§–æ—Ä–º–∞—Ç</div>
          <div class="rs-grid">
            <div class="rs-card">
              <h3>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</h3>
              <ul class="rs-ul">
                <li>2 —Å–æ–∑–≤–æ–Ω–∞ –≤ –Ω–µ–¥–µ–ª—é (–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–∑–±–æ—Ä)</li>
                <li>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π async-–∫–æ–Ω—Ç–∞–∫—Ç –≤ Telegram</li>
                <li>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã/—à–∞–±–ª–æ–Ω—ã/—Å–∫—Ä–∏–ø—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã</li>
              </ul>
            </div>
            <div class="rs-card">
              <h3>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ</h3>
              <ul class="rs-ul">
                <li>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏</li>
                <li>–ö–∞—Ä—Ç–∞ –≤–æ—Ä–æ–Ω–∫–∏ –∏ —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è</li>
                <li>–°–ø–∏—Å–æ–∫ –±—ã—Å—Ç—Ä—ã—Ö —Ä—ã—á–∞–≥–æ–≤ –Ω–∞ 4 –Ω–µ–¥–µ–ª–∏</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="rs-section">
          <div class="rs-h2">–ö–æ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç</div>
          <ul class="rs-ul">
            <li>B2B –∏ —Å–µ—Ä–≤–∏—Å—ã, –≥–¥–µ –ø—Ä–æ–¥–∞–∂–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–µ—á–∏/—Å—á–µ—Ç–∞</li>
            <li>–ï—Å—Ç—å –ª–∏–¥-–ø–æ—Ç–æ–∫, –Ω–æ ¬´–ø—Ä–æ—Å–µ–¥–∞–µ—Ç¬ª —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–æ–Ω–≤–µ—Ä—Å–∏—è</li>
            <li>–ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–∫–∞–∑–∞—Ç—å –¥–µ–Ω—å–≥–∏ –±–µ–∑ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏—è —à—Ç–∞—Ç–∞</li>
          </ul>
        </div>

        <div class="rs-section">
          <div class="rs-h2">–£—Å–ª–æ–≤–∏—è</div>
          <div class="rs-grid">
            <div class="rs-card">
              <h3>–°—Ä–æ–∫ –∏ —Ñ–æ—Ä–º–∞—Ç</h3>
              <div>2 –Ω–µ–¥–µ–ª–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ + 2 –Ω–µ–¥–µ–ª–∏ –ª—ë–≥–∫–æ–≥–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.</div>
            </div>
            <div class="rs-card">
              <h3>–°—Ç–æ–∏–º–æ—Å—Ç—å</h3>
              <div>–û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–∑–≤–æ–Ω–µ: —Ñ–∏–∫—Å + –±–æ–Ω—É—Å –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞/—ç—Ç–∞–ø–∞. –ù–∞–ø–∏—à–∏ –≤ Telegram ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—é –¥–µ—Ç–∞–ª–∏.</div>
            </div>
          </div>
        </div>

        <div class="rs-section" style="display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap;">
          <div class="rs-chip">–ì–æ—Ç–æ–≤–∞ –ø–æ–∫–∞–∑–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–µ–∫—É—â–µ–º –ø–æ—Ç–æ–∫–µ</div>
          <button class="btn brand" onclick="openLink('https://t.me/Agavrichkova')">–ù–∞–ø–∏—Å–∞—Ç—å –ê–Ω–Ω–µ –≤ Telegram</button>
        </div>
      </div>
    `;

    // ===== helpers =====
    const $  = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    function openLink(url){ if (tg?.openTelegramLink) tg.openTelegramLink(url); else window.open(url, '_blank'); }
    function contactUrl(){ return DATA.contact?.url || `https://t.me/${DATA.contact?.username}`; }

    const tabsEl = $('#tabs');
    const contentEl = $('#content');
    const searchEl = $('#search');
    const navButtons = $$('.nav-btn');

    // routing state
    const urlParams = new URLSearchParams(location.hash.slice(1));
    let activeTab = urlParams.get('tab') || 'rubrics';
    let activeView = urlParams.get('view'); // –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (rs360 –∏ —Ç.–ø.)

    function updateHash(){
      const url = new URL(location);
      const p = new URLSearchParams();
      p.set('tab', activeTab);
      if (activeTab==='products' && activeView) p.set('view', activeView);
      url.hash = p.toString();
      history.replaceState(null,'',url);
    }

    function setTab(id){
      activeTab = id;
      if (id!=='products') activeView = null;
      updateHash();
      draw();
      navButtons.forEach(b => b.classList.toggle('active', b.dataset.tab === id));
      $$('.tab').forEach(b => b.setAttribute('aria-selected', String(b.dataset.tab === id)));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    function setView(view){ activeView = view; updateHash(); draw(); window.scrollTo({top:0, behavior:'smooth'}); }

    function renderTabs(){
      tabsEl.innerHTML = '';
      DATA.tabs.forEach(t=>{
        const b = document.createElement('button');
        b.className = 'tab';
        b.dataset.tab = t.id;
        b.textContent = t.title;
        b.setAttribute('role','tab');
        b.setAttribute('aria-selected', String(t.id===activeTab));
        b.onclick = ()=> setTab(t.id);
        tabsEl.appendChild(b);
      });
    }

    function emptyCard(label='–°–∫–æ—Ä–æ'){
      const c = document.createElement('div'); c.className='card';
      c.innerHTML = `<h3 style="margin:0 0 6px 0; font-size:18px;">${label}</h3><div class="pill">–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>`;
      return c;
    }

    function drawContact(){
      contentEl.innerHTML = `
        <div class="section">
          <h2>–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π</h2>
          <div class="card" style="align-items:flex-start;gap:14px;">
            <button class="btn brand" id="btnContact">–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç –≤ Telegram</button>
            <div class="pill">@${DATA.contact?.username}</div>
          </div>
        </div>`;
      $('#btnContact').onclick = ()=>openLink(contactUrl());
    }

    function drawProducts(){
      // –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —ç–∫—Ä–∞–Ω –ø—Ä–æ–¥—É–∫—Ç–∞
      if (activeView === 'rs360'){
        contentEl.innerHTML = RS360_VIEW_HTML;
        return;
      }
      // —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
      const wrap = document.createElement('div');
      (DATA.tabs.find(x=>x.id==='products').groups || []).forEach(g=>{
        const sec = document.createElement('div'); sec.className='section';
        sec.innerHTML = `<h2>${g.tag}</h2>`;
        const column = document.createElement('div'); column.className='grid';

        if (!g.items || !g.items.length){
          column.appendChild(emptyCard());
        } else {
          g.items.forEach(it=>{
            const card = document.createElement('div'); card.className='card';
            const btn = document.createElement('button'); btn.className='btn'; btn.style.cssText='width:100%; height:auto; padding:12px; line-height:1.35;';
            btn.textContent = it.title;
            if (it.type === 'internal' && it.id === 'rs360'){
              btn.onclick = ()=> setView('rs360');
            } else if (it.link){
              btn.onclick = ()=> openLink(it.link);
            }
            card.appendChild(btn);
            column.appendChild(card);
          });
          const cnt = document.createElement('div'); cnt.className='pill'; cnt.style.cssText='width:100%; justify-content:center;';
          cnt.textContent = `${g.items.length} –∑–∞–ø–∏—Å–∏`;
          sec.appendChild(column); sec.appendChild(cnt);
        }
        wrap.appendChild(sec);
      });
      contentEl.innerHTML = ''; contentEl.appendChild(wrap);
    }

    function drawCommonTab(tab){
      searchEl.style.display = (tab.id==='rubrics') ? 'block' : 'none';
      const q = (searchEl.value || '').trim().toLowerCase();
      const wrap = document.createElement('div');

      (tab.groups||[]).forEach(g=>{
        const sec = document.createElement('div'); sec.className='section';
        const h = document.createElement('h2'); h.textContent = g.tag; sec.appendChild(h);

        const column = document.createElement('div'); column.className='grid';
        let items = g.items || [];
        if (tab.id==='rubrics' && q) items = items.filter(it => (it.title||'').toLowerCase().includes(q));

        if (!items.length){
          column.appendChild(emptyCard());
        } else {
          items.forEach(it=>{
            const card = document.createElement('div'); card.className='card';
            const btn = document.createElement('button'); btn.className='btn'; btn.style.cssText='width:100%; height:auto; padding:12px; line-height:1.35;';
            btn.textContent = it.title;
            btn.onclick = ()=> openLink(it.link || it.audio);
            card.appendChild(btn);
            column.appendChild(card);
          });
          const cnt = document.createElement('div'); cnt.className='pill'; cnt.style.cssText='width:100%; justify-content:center;';
          cnt.textContent = `${items.length} –∑–∞–ø–∏—Å–∏`;
          sec.appendChild(column); sec.appendChild(cnt);
        }
        wrap.appendChild(sec);
      });

      contentEl.innerHTML = ''; contentEl.appendChild(wrap);
    }

    function draw(){
      renderTabs();
      const tab = DATA.tabs.find(x=>x.id===activeTab) || DATA.tabs[0];
      // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∏–∑–∞
      navButtons.forEach(b => b.classList.toggle('active', b.dataset.tab === tab.id));
      // —Ä–æ—É—Ç–∏–Ω–≥
      if (tab.id==='contact') return drawContact();
      if (tab.id==='products') return drawProducts();
      return drawCommonTab(tab);
    }

    // events
    navButtons.forEach(b => b.addEventListener('click', ()=> setTab(b.dataset.tab)));
    searchEl.addEventListener('input', draw);

    // first render
    draw();
  </script>
</body>
</html>
