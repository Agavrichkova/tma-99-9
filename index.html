<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ù–∞–≤–∏–≥–∞—Ü–∏—è 99,9% ‚Äî –º–∏–Ω–∏-–∞–ø–ø</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      /* —Ñ–æ–Ω: –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç, –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
         –ø–æ–º–µ–Ω—è–π --bg-image: url('assets/nav-bg.jpg');  –Ω–∞ none, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ */
      --bg-image: none;
      --bg-base: #eeeeef;
      --brand:  #ffb224;
      --brand-strong:#f7a21b;
      --text:  #111111;
      --muted: #63666a;
      --card:  rgba(255,255,255,.72);
      --line:  rgba(17,17,17,.10);
      --chip:  #ffffff;
      --chip-border: rgba(17,17,17,.16);
      --chip-ring: rgba(247,162,27,.45);
      --cta:   #2f6fce;
      --cta-text:#ffffff;
      --nav-bg: rgba(255,255,255,.92);
      --nav-border: rgba(17,17,17,.10);
      --nav-active: #111111;
      --nav-muted: #6c6f75;
    }

    html, body {height: 100%;}
    body{
      margin:0;
      color:var(--text);
      font: 15px/1.5 "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      background:
        radial-gradient(1200px 900px at 65% 35%,
          rgba(247,162,27, .95) 0%,
          rgba(247,162,27, .75) 30%,
          rgba(247,162,27, .35) 55%,
          rgba(247,162,27, .15) 68%,
          rgba(247,162,27, .08) 74%,
          rgba(247,162,27, 0) 78%)
        , var(--bg-base);
      background-image: var(--bg-image), radial-gradient(1200px 900px at 65% 35%,
          rgba(247,162,27, .95) 0%,
          rgba(247,162,27, .75) 30%,
          rgba(247,162,27, .35) 55%,
          rgba(247,162,27, .15) 68%,
          rgba(247,162,27, .08) 74%,
          rgba(247,162,27, 0) 78%), none;
      background-size: cover, auto;
      background-repeat:no-repeat;
      background-attachment: fixed;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .app{ max-width: 980px; margin: 0 auto; padding: 16px 16px 88px; } /* –º–µ—Å—Ç–æ –ø–æ–¥ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é */

    /* –®–∞–ø–∫–∞ */
    .header{
      display:flex; gap:16px; align-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.70));
      border:1px solid var(--line);
      border-radius:24px; padding:18px;
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 30px rgba(0,0,0,.04);
    }
    .avatar{
      width:64px; height:64px; border-radius:50%;
      background:
        radial-gradient(60px 60px at 60% 40%, var(--brand), rgba(255,255,255,.6)),
        #f8d294;
      border: 1px solid rgba(0,0,0,.06);
      flex:0 0 64px;
    }
    .title{
      font-family:"Montserrat", system-ui; font-weight:800; letter-spacing:.2px;
      font-size:28px;
    }
    .subtitle{ color:var(--muted); margin-top:4px; }

    /* –í–µ—Ä—Ö–Ω–∏–µ —á–∏–ø—ã-—Ç–∞–±—ã (–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –±—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã) */
    .tabs{ display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 10px; }
    .tab{
      background:var(--chip);
      border:1px solid var(--chip-border);
      border-radius:999px; padding:10px 14px;
      font-weight:600; cursor:pointer; user-select:none;
      transition: box-shadow .2s, border-color .2s, transform .05s;
    }
    .tab:active{ transform: translateY(1px); }
    .tab[aria-selected="true"]{
      border-color: var(--brand-strong);
      box-shadow: 0 0 0 3px var(--chip-ring);
    }

    /* –ü–æ–∏—Å–∫ */
    .search{
      width:100%; padding:12px 14px; border-radius:14px;
      border:1px solid var(--line); background:rgba(255,255,255,.85);
      outline:none;
    }

    /* –°–µ–∫—Ü–∏–∏/–∫–∞—Ä—Ç—ã */
    .section{
      background: var(--card); border:1px solid var(--line);
      border-radius:22px; padding:16px; margin-top:14px;
      backdrop-filter: blur(4px);
    }
    .section h2{
      font-family:"Montserrat", system-ui; font-size:26px; margin:6px 8px 12px;
      letter-spacing:.2px;
    }

    .grid{ display:grid; grid-template-columns:1fr; gap:12px; }
    @media (min-width: 740px){ .grid{ grid-template-columns: 1fr 1fr 1fr; } }

    .card{
      background:linear-gradient(180deg, #ffffffcc, #ffffffb3);
      border:1px solid var(--line); border-radius:18px; padding:14px;
      display:flex; flex-direction:column; gap:10px; min-height:130px;
    }
    .card h3{ margin:0 0 6px 0; font-size:18px; }
    .pill{
      display:inline-flex; align-items:center; justify-content:center;
      border:1px dashed var(--line); border-radius:999px; padding:8px 10px;
      color:var(--muted); font-size:13px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      height:44px; padding:0 16px; border-radius:12px; border:1px solid var(--line);
      background:var(--chip); cursor:pointer; font-weight:600;
    }
    .btn.brand{
      background:var(--cta); color:var(--cta-text);
      border-color:transparent;
      box-shadow: 0 4px 18px rgba(47,111,206,.25);
    }

    /* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
    .nav{
      position:fixed; left:0; right:0; bottom:0;
      background: var(--nav-bg);
      border-top:1px solid var(--nav-border);
      backdrop-filter: blur(10px);
      z-index: 50;
    }
    .nav-wrap{
      max-width:980px; margin:0 auto; padding:8px 12px 10px;
      display:flex; justify-content:space-between; gap:8px;
    }
    .nav-btn{
      flex:1 1 0;
      display:flex; flex-direction:column; align-items:center; gap:6px;
      padding:8px 6px; border-radius:12px; border:1px solid transparent;
      background:transparent; cursor:pointer; user-select:none;
      font-weight:600; color:var(--nav-muted);
      transition: background .2s, color .2s, border-color .2s, transform .05s;
    }
    .nav-btn:active{ transform: translateY(1px); }
    .nav-btn.active{
      color:var(--nav-active);
      background:#fff;
      border-color:var(--nav-border);
      box-shadow: 0 6px 18px rgba(0,0,0,.06);
    }
    .nav-ico{ font-size:18px; line-height:1; }
    .nav-txt{ font-size:12px; }

    .footer-space{ height:22px; }
    .footer{ display:none; }
  </style>
</head>
<body>
  <div class="app" id="app">
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
      <div class="avatar" aria-hidden="true"></div>
      <div>
        <div class="title">–ì–∞–≤—Ä–∏—á–∫–æ–≤–∞ | 99,9%</div>
        <div class="subtitle">–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä—É–±—Ä–∏–∫–∞–º ¬∑ –ü–æ–¥–∫–∞—Å—Ç ¬∑ –ö–µ–π—Å—ã ¬∑ –°–≤—è–∑—å</div>
      </div>
    </div>

    <!-- –í–µ—Ä—Ö–Ω–∏–µ —á–∏–ø—ã-—Ç–∞–±—ã -->
    <div class="tabs" id="tabs"></div>

    <!-- –ü–æ–∏—Å–∫ (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤ ¬´–†—É–±—Ä–∏–∫–∏¬ª) -->
    <input id="search" class="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º‚Ä¶"/>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="content"></div>

    <div class="footer-space"></div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="nav">
    <div class="nav-wrap">
      <button class="nav-btn" data-tab="rubrics">
        <span class="nav-ico">üè∑Ô∏è</span><span class="nav-txt">–†—É–±—Ä–∏–∫–∏</span>
      </button>
      <button class="nav-btn" data-tab="podcast">
        <span class="nav-ico">üéôÔ∏è</span><span class="nav-txt">–ü–æ–¥–∫–∞—Å—Ç</span>
      </button>
      <button class="nav-btn" data-tab="cases">
        <span class="nav-ico">üìÇ</span><span class="nav-txt">–ö–µ–π—Å—ã</span>
      </button>
      <button class="nav-btn" data-tab="contact">
        <span class="nav-ico">‚úâÔ∏è</span><span class="nav-txt">–°–≤—è–∑—å</span>
      </button>
    </div>
  </nav>

  <script>
    const tg = window.Telegram?.WebApp;
    if (tg) { tg.ready(); tg.expand(); }

    const DATA = {
      contact: { username: 'Agavrichkova', url: 'https://t.me/Agavrichkova' },
      tabs: [
        {
          id:'rubrics', title:'–†—É–±—Ä–∏–∫–∏',
          groups:[
            {
              tag:'–ò–¥–µ–∏ 99,9%',
              items:[
                { title:'–ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –ò–ò –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Ä–∞–±–æ—Ç—É (–∏ –Ω–µ —Å–∫–∞—Ç–∏—Ç—å—Å—è –≤ –∏–≥—Ä—É—à–∫–∏)', link:'https://t.me/percent99_9/99' },
                { title:'–ö—Ä–∏–≤–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏–π: –≥–¥–µ –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç 99,9% –∫–æ–º–∞–Ω–¥', link:'https://t.me/percent99_9/98' },
              ]
            },
            {
              tag:'–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ä—ã–Ω–æ–∫ 0,1%',
              items:[
                { title:'–ü–æ—á–µ–º—É –±–æ–≥–∞—Ç—ã–µ –ø–ª–∞—Ç—è—Ç –º–µ–Ω—å—à–µ –Ω–∞–ª–æ–≥–æ–≤, —á–µ–º –º—ã', link:'https://t.me/percent99_9/95' },
                { title:'99,9% –±–µ—Ä—É—Ç –∏–ø–æ—Ç–µ–∫—É –Ω–∞ 20 –ª–µ—Ç. 0,1% –ø–æ–∫—É–ø–∞—é—Ç —á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å', link:'https://t.me/percent99_9/96' },
              ]
            },
            { tag:'–ì—Ä–∞–±–ª–∏', items:[] },
            { tag:'–¶–µ–Ω–∞ –≤–æ–ø—Ä–æ—Å–∞', items:[] }
          ]
        },
        { id:'podcast', title:'–ü–æ–¥–∫–∞—Å—Ç', groups:[ { tag:'–°–∫–æ—Ä–æ', items:[] } ] },
        { id:'cases',   title:'–ö–µ–π—Å—ã',   groups:[ { tag:'–°–∫–æ—Ä–æ', items:[] } ] },
        { id:'contact', title:'–°–≤—è–∑—å',   groups:[] }
      ]
    };

    const $ = s => document.querySelector(s);
    function $all(s){ return Array.from(document.querySelectorAll(s)); }
    function openLink(url){ if (tg?.openTelegramLink) tg.openTelegramLink(url); else window.open(url, '_blank'); }
    function contactUrl(){ return DATA.contact?.url || `https://t.me/${DATA.contact?.username}`; }

    const tabsEl = $('#tabs');
    const contentEl = $('#content');
    const searchEl = $('#search');
    const navButtons = $all('.nav-btn');

    let activeTab = (new URLSearchParams(location.hash.slice(1))).get('tab') || 'rubrics';

    function updateHash(){
      const url = new URL(location); url.hash = `tab=${activeTab}`; history.replaceState(null,'',url);
    }

    function setTab(id){
      activeTab = id;
      updateHash();
      draw();
      // –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∏–∂–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫
      navButtons.forEach(b => b.classList.toggle('active', b.dataset.tab === id));
      // –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–µ—Ä—Ö–Ω–∏—Ö —á–∏–ø–æ–≤
      $all('.tab').forEach(b => b.setAttribute('aria-selected', String(b.dataset.tab === id)));
      // —Å–∫—Ä–æ–ª–ª–∏–º –∫ –≤–µ—Ä—Ö—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è UX
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function renderTabs(){
      tabsEl.innerHTML = '';
      DATA.tabs.forEach(t=>{
        const b = document.createElement('button');
        b.className = 'tab';
        b.dataset.tab = t.id;
        b.textContent = t.title;
        b.setAttribute('role','tab');
        b.setAttribute('aria-selected', String(t.id===activeTab));
        b.onclick = ()=> setTab(t.id);
        tabsEl.appendChild(b);
      });
    }

    function emptyCard(label='–°–∫–æ—Ä–æ'){
      const c = document.createElement('div'); c.className='card';
      c.innerHTML = `<h3>${label}</h3><div class="pill">–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>`;
      return c;
    }

    function draw(){
      renderTabs();
      const tab = DATA.tabs.find(x=>x.id===activeTab) || DATA.tabs[0];

      searchEl.style.display = (tab.id==='rubrics') ? 'block' : 'none';
      const q = (searchEl.value || '').trim().toLowerCase();

      // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
      navButtons.forEach(b => b.classList.toggle('active', b.dataset.tab === tab.id));

      if (tab.id==='contact'){
        contentEl.innerHTML = `
          <div class="section">
            <h2>–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π</h2>
            <div class="card" style="align-items:flex-start;gap:14px;">
              <button class="btn brand" id="btnContact">–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç –≤ Telegram</button>
              <div class="pill">@${DATA.contact?.username}</div>
            </div>
          </div>
        `;
        $('#btnContact').onclick = ()=>openLink(contactUrl());
        return;
      }

      const wrap = document.createElement('div');

      (tab.groups||[]).forEach(g=>{
        const sec = document.createElement('div'); sec.className='section';
        const h = document.createElement('h2'); h.textContent = g.tag; sec.appendChild(h);

        const column = document.createElement('div'); column.className='grid';

        let items = g.items || [];
        if (tab.id==='rubrics' && q) items = items.filter(it => (it.title||'').toLowerCase().includes(q));

        if (!items.length){
          column.appendChild(emptyCard());
        } else {
          items.forEach(it=>{
            const card = document.createElement('div'); card.className='card';
            card.innerHTML = `<button class="btn" style="width:100%; height:auto; padding:12px; line-height:1.35;">${it.title}</button>`;
            card.querySelector('button').onclick = ()=> openLink(it.link || it.audio);
            column.appendChild(card);
          });
          const cnt = document.createElement('div');
          cnt.className = 'pill';
          cnt.style.width='100%'; cnt.style.justifyContent='center';
          cnt.textContent = `${items.length} –∑–∞–ø–∏—Å–∏`;
          sec.appendChild(column);
          sec.appendChild(cnt);
          wrap.appendChild(sec);
          return;
        }

        sec.appendChild(column);
        wrap.appendChild(sec);
      });

      contentEl.innerHTML = '';
      contentEl.appendChild(wrap);
    }

    // –∫–ª–∏–∫–∏ –ø–æ –Ω–∏–∂–Ω–µ–º—É –º–µ–Ω—é
    navButtons.forEach(b => b.addEventListener('click', ()=> setTab(b.dataset.tab)));

    searchEl.addEventListener('input', draw);

    // –ø–µ—Ä–≤–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
    setTab(activeTab);
  </script>
</body>
</html>
